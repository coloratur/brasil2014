<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8" />
    <link href="kendo/styles/kendo.mobile.all.min.css" rel="stylesheet" />
    <!--<link href="kendo/styles/kendo.dataviz.flat.min.css" rel="stylesheet" />-->
    <link href="styles/app.css" rel="stylesheet" />
    <link href="styles/fonts.css" rel="stylesheet" />

    <script src="cordova.js"></script>
    <script src="kendo/js/jquery.min.js"></script>
    <script src="kendo/js/jquery.knob.js"></script>
    <script src="kendo/js/kendo.mobile.min.js"></script>
    
    <!--<script src="kendo/js/kendo.all.min.js"></script>-->
 
    <script src="scripts/app.js"></script>
    
    <script src="scripts/login.js"></script>
    <script src="scripts/home.js"></script>
    <script src="scripts/ranking.js"></script>
    <script src="scripts/scoring.js"></script>
    <script src="scripts/groupRanking.js"></script>
    <script src="scripts/matchList.js"></script>
      
</head>
<body>
    <!-- LOGIN -->
    <div id="tabstrip-login"
        data-role="view"
        data-title=""
        data-model="app.loginService.viewModel"
        data-after-show="app.loginService.afterShow"
        data-transition="">
        
        <div class="logout-button"><a href="#tabstrip-pwreset">Passwort vergessen?</a></div>
        
        <form class="login-form" data-bind="events: { keyup: checkEnter }">
            <ul data-role="listview" data-bind="">
                <li>
                    <label>
                        <input type="text" id="tbUsername" placeholder="Nickname" data-bind="value: username" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
                    </label>
                </li>
                <li>
                    <label>                        
                        <input type="password" id="tbPassword" placeholder="Passwort" data-bind="value: password" />
                    </label>
                </li>
            </ul>
            
            <input id="login" type="submit" data-role="button" data-bind="click: onLogin" value="Login" class="login-button" />
        </form>
    </div>
    
    <!-- Brasil 2014 -->
    <div id="tabstrip-home"
        data-role="view"
        data-title="Brasil 2014"
        data-transition=""
        data-show="app.initView"
        data-after-show="app.home.afterShow">
        
        <div data-role="header">
            <div data-role="navbar">
            	<span data-role="view-title"></span>
            </div>
        </div>
        
        <ul data-role="listview"  id="top-list">
            <li>
                <a href="#tabstrip-score">
                    <div class="list-item">
                        <span class="list-image" id="user-image" style="background-repeat: no-repeat; background-image: url('styles/images/Icons/user.svg')"></span>
                        <div class="list-detail">
                        	<p id="home-userId"></p>
                        	<p id="home-score"></p>
                        </div>
                    </div>
                </a>
            </li>
            <li>
                <a href="#match-list?today=1&fromHome=1">
                    <div class="list-item">
                        <span class="list-image" style="background-image: url('styles/images/Icons/tip.svg')"></span>
                        <div class="list-detail">
                            <p>Spiele heute</p>
                            <p id="matches-today-open-bets"></p>
                        </div>
                    </div>
                </a>
            </li>
        </ul>
        
	 	<ul data-role="listview" id="start-list">
             <li>
                 <a href="#tabstrip-schedule" class="parent km-listview-link" data-role="listview-link">
                     <div class="list-item">
                         <span class="list-image" style="background-image: url('styles/images/Icons/result.svg')"></span>
                		 <h2>Spiele & Ergebnisse</h2>
                     </div>
                 </a>
             </li>
             <li>
                 <a href="#tabstrip-ranking" class="parent km-listview-link" data-role="listview-link">
                     <div class="list-item">
                         <span class="list-image" style="background-image: url('styles/images/Icons/price.svg')"></span>
                		 <h2>Rangliste & Preise</h2>
                     </div>
                 </a>
             </li>
             <li>
                 <a href="#tabstrip-score" class="parent km-listview-link" data-role="listview-link">
                     <div class="list-item">
                         <span class="list-image" style="background-image: url('styles/images/Icons/score.svg')"></span>
                		 <h2>Treffergenauigkeit</h2>
                     </div>
                 </a>
             </li>
             <li>
                 <a href="#tabstrip-rules" class="parent km-listview-link" data-role="listview-link">
                     <div class="list-item">
                         <span class="list-image" style="background-image: url('styles/images/Icons/rules.svg')"></span>
                		 <h2>Regeln & Mehr</h2>
                     </div>
                 </a>
             </li>
		 </ul>
    </div>
    
    <!-- Spielplan & Ergebnisse -->
    <div id="tabstrip-schedule"
        data-role="view"
        data-title="Spiele & Ergebnisse"
        data-show="app.initView"
        data-transition="">
        
        <div data-role="header">
            <div data-role="navbar">
                <a data-role="backbutton" id="backbutton" data-align="left" href="#tabstrip-home"> </a>
            	<span data-role="view-title"></span>
            </div>
        </div>
        
	 	<ul data-role="listview">
             <li class="major">
                 <a href="#match-list?today" class="parent km-listview-link" data-role="listview-link">
                     <div class="list-item">
                         <span class="list-image" style="background-image: url('styles/images/Icons/schedule.svg')"></span>
                		 <h2>Spiele heute</h2>
                     </div>
                 </a>
             </li>
             <li>
                 <a href="#tabstrip-group" class="parent km-listview-link" data-role="listview-link">
                     <div class="list-item">
                         <span class="list-image" style="background-image: url('styles/images/Icons/1-32_round.svg')"></span>
                		 <h2>Vorrunde</h2>
                     </div>
                 </a>
             </li>
             <li>
                 <a href="#match-list?stage=ROUND_OF_16" class="parent km-listview-link" data-role="listview-link">
                     <div class="list-item">
                         <span class="list-image" style="background-image: url('styles/images/Icons/1-8_round.svg')"></span>
                		 <h2>Achtelfinale</h2>
                     </div>
                 </a>
             </li>
             <li>
                 <a href="#match-list?stage=QUARTER_FINALS" class="parent km-listview-link" data-role="listview-link">
                     <div class="list-item">
                         <span class="list-image" style="background-image: url('styles/images/Icons/1-4_round.svg')"></span>
                		 <h2>Viertelfinale</h2>
                     </div>
                 </a>
             </li>
              <li>
                 <a href="#match-list?stage=SEMI_FINALS" class="parent km-listview-link" data-role="listview-link">
                     <div class="list-item">
                         <span class="list-image" style="background-image: url('styles/images/Icons/1-2_round.svg')"></span>
                		 <h2>Halbfinale</h2>
                     </div>
                 </a>
             </li>
              <li>
                 <a href="#match-list?stage=THIRD_PLACE" class="parent km-listview-link" data-role="listview-link">
                     <div class="list-item">
                         <span class="list-image" style="background-image: url('styles/images/Icons/3rd_price.svg')"></span>
                		 <h2>Spiel um Platz 3</h2>
                     </div>
                 </a>
             </li>
              <li>
                 <a href="#match-list?stage=FINAL" class="parent km-listview-link" data-role="listview-link">
                     <div class="list-item">
                         <span class="list-image" style="background-image: url('styles/images/Icons/final.svg')"></span>
                		 <h2>Finale</h2>
                     </div>
                 </a>
             </li>
		 </ul>
    </div>
    
    <!-- Vorrunde -->
    <div id="tabstrip-group"
        data-role="view"
        data-title="Vorrunde"
        data-show="app.initView"
        data-transition="">
        
        <div data-role="header">
            <div data-role="navbar">
                <a data-role="backbutton" id="backbutton" data-align="left" href="#tabstrip-schedule"></a>
            	<span data-role="view-title"></span>
            </div>
        </div>
        
	 	<ul data-role="listview">
             <li>
                 <a href="#match-list?group=A" class="parent km-listview-link" data-role="listview-link">
                     <div class="list-item">
                         <span class="list-image" style="background-image: url('styles/images/Icons/group_a.svg')"></span>
                		 <h2>Gruppe A</h2>
                     </div>
                 </a>
             </li>
             <li>
                 <a href="#match-list?group=B" class="parent km-listview-link" data-role="listview-link">
                     <div class="list-item">
                         <span class="list-image" style="background-image: url('styles/images/Icons/group_b.svg')"></span>
                		 <h2>Gruppe B</h2>
                     </div>
                 </a>
             </li>
             <li>
                 <a href="#match-list?group=C" class="parent km-listview-link" data-role="listview-link">
                     <div class="list-item">
                         <span class="list-image" style="background-image: url('styles/images/Icons/group_c.svg')"></span>
                		 <h2>Gruppe C</h2>
                     </div>
                 </a>
             </li>
             <li>
                 <a href="#match-list?group=D" class="parent km-listview-link" data-role="listview-link">
                     <div class="list-item">
                         <span class="list-image" style="background-image: url('styles/images/Icons/group_d.svg')"></span>
                		 <h2>Gruppe D</h2>
                     </div>
                 </a>
             </li>
              <li>
                 <a href="#match-list?group=E" class="parent km-listview-link" data-role="listview-link">
                     <div class="list-item">
                         <span class="list-image" style="background-image: url('styles/images/Icons/group_e.svg')"></span>
                		 <h2>Gruppe E</h2>
                     </div>
                 </a>
             </li>
              <li>
                 <a href="#match-list?group=F" class="parent km-listview-link" data-role="listview-link">
                     <div class="list-item">
                         <span class="list-image" style="background-image: url('styles/images/Icons/group_f.svg')"></span>
                		 <h2>Gruppe F</h2>
                     </div>
                 </a>
             </li>
             <li>
                 <a href="#match-list?group=G" class="parent km-listview-link" data-role="listview-link">
                     <div class="list-item">
                         <span class="list-image" style="background-image: url('styles/images/Icons/group_g.svg')"></span>
                		 <h2>Gruppe G</h2>
                     </div>
                 </a>
             </li>
             <li>
                 <a href="#match-list?group=H" class="parent km-listview-link" data-role="listview-link">
                     <div class="list-item">
                         <span class="list-image" style="background-image: url('styles/images/Icons/group_h.svg')"></span>
                		 <h2>Gruppe H</h2>
                     </div>
                 </a>
             </li>
		 </ul>
    </div>
    
    <!-- Spieleansicht -->
    <div id="match-list"
        data-role="view"
        data-title="Spiele"
        data-show="app.matchList.show"
        data-after-show="app.matchList.afterShow"
        data-before-show="app.matchList.beforeShow"
        data-hide="app.matchList.hide"
        data-init="app.matchList.init"
        data-transition=""
        class="score-group">
        
        <div data-role="header">
            <div data-role="navbar">
                <a data-role="backbutton" id="backbutton" data-align="left" href="#tabstrip-group"></a>
            	<span data-role="view-title"></span>
            </div>
        </div>
        
        <div class="sub-navigation">
            <a data-role="button" class="selected-button" href="#match-list?group=" id="navi-matches-list">Spiele</a>
        	<a data-role="button" href="#group-ranking?group=" id="navi-ranking-list">Tabelle</a>
        </div>
        
        <script type="text/x-kendo-template" id="match-list-template">
            <div class="list-item">
                 <div class="left-side">
                     <span class="list-image" style="background-image: url('styles/images/Teams/#: Team1Id ? Team1Id.toLowerCase()+".svg" : "flag.svg" #')"></span>
        		 	<h2>#: Team1Id == null ? 'N/A' : Team1Id #</h2>
                 </div>
                 
                 <div class="game-info" id="game-info-#: id #">
            		<div class="game-date">
            			#: dateString # (#: parseInt(new Date(parseInt(startDate)).getHours()) < 9 ? "0" + new Date(parseInt(startDate)).getHours() : new Date(parseInt(startDate)).getHours()  #:#: parseInt(new Date(parseInt(startDate)).getMinutes()) < 9 ? "0" + new Date(parseInt(startDate)).getMinutes() : new Date(parseInt(startDate)).getMinutes() #)
            			-
            			#: venue #
        			</div>
            		<div class="game-result">
            			<div style="#: resultType === null ? 'display: none;' : '' #">
            				<span>#: goalsTeam1 #:#: goalsTeam2 # </span>
            				/
            				<span class="game-user-bet #: ((userBet && userBet.goals1 == goalsTeam1 && userBet.goals2 == goalsTeam2) ? 'tip-success' : (((userBet && userBet.goals1 > userBet.goals2 && goalsTeam1 > goalsTeam2) || (userBet && userBet.goals2 > userBet.goals1 && goalsTeam2 > goalsTeam1) || (userBet&& userBet.goals1 == userBet.goals2 && goalsTeam1 == goalsTeam2))) ? 'tip-tendency' : 'tip-error') #">#: userBet == null ? "-" : userBet.goals1 + ":" + userBet.goals2 #</span>
            				
            				<div class="result-nv" style="#: resultType === 'REG' ? 'display: none;' : '' #">
            					#: goalsTeam1Final # : #: goalsTeam2Final #
            					#: resultType === 'AET' ? '(n.V.)' : '' #
            					#: resultType === 'APS' ? '(n.E.)' : '' #
            				</div>
                        </div>
            		</div>
        			<div class="voting-container #: (resultType == null && new Date().getTime() > startDate) ? 'game-live' : '' #" style="#: resultType == null ? '' : 'display: none;' #">
						<input type="number" #: new Date().getTime() > startDate ? 'readonly="readonly"' : '' # id="goals-team1-#: id #" value="#: userBet != null ? userBet.goals1 : null #" data-oldValue="#: userBet != null ? userBet.goals1 : null #" data-matchId="#: id #" min="0" max="99" onchange="return app.matchList.saveBet(event);" />
						<input type="number" #: new Date().getTime() > startDate ? 'readonly="readonly"' : '' # id="goals-team2-#: id #" value="#: userBet != null ? userBet.goals2 : null #" data-oldValue="#: userBet != null ? userBet.goals2 : null #" data-matchId="#: id #" min="0" max="99" onchange="return app.matchList.saveBet(event);" />
        			</div>
                    <div style="#: (resultType == null && new Date().getTime() > startDate) ? '' : 'display: none;' #" class="live-label">
                    LIVE
                    </div>
                 </div>
            
                 <div class="right-side">
                     <span class="list-image" style="background-image: url('styles/images/Teams/#: Team2Id ? Team2Id.toLowerCase()+".svg" : "flag.svg" #')"></span>
        		 	<h2>#: Team2Id == null ? 'N/A' : Team2Id #</h2>
                 </div>
            
            </div>
        </script>
        
    </div>
    
    <!-- Gruppentabellen -->
    <div id="group-ranking"
        data-role="view"
        data-title="Gruppe"
        data-show="app.groupRanking.show"
        data-after-show="app.groupRanking.afterShow"
        data-before-show="app.groupRanking.beforeShow"
        data-hide="app.groupRanking.hide"
        data-init="app.groupRanking.init"
        class="ranking-group">
        
        <div data-role="header">
            <div data-role="navbar">
                <a data-role="backbutton" id="backbutton" data-align="left" href="#tabstrip-group"></a>
            	<span data-role="view-title"></span>
            </div>
        </div>
        
        <div class="sub-navigation">
            <a data-role="button" href="#match-list?group=" id="navi-matches">Spiele</a>
        	<a data-role="button" class="selected-button" href="#group-ranking?group=" id="navi-ranking">Tabelle</a>
        </div>
        
        <script type="text/x-kendo-template" id="group-ranking-template">
             <div class="list-item">
                 <span class="list-image" style="background-image: url('styles/images/Teams/#: id.toLowerCase() #.svg')"></span>
        		 <h2>#: id #</h2>
                 <table class="table">
                     <thead>
                         <tr>
                             <th>Spiele</th>
                             <th>Tore</th>
                             <th>Punkte</th>
                         </tr>
                     </thead>
                     <tbody>
                         <tr>
                             <td>#: playedMatches #</td>
                             <td>#: goalsScored #:#: goalsConceded #</td>
                             <td>#: points #</td>
                         </tr>
                      </tbody>
                  </table>
             </div>
        </script>
        
    </div>
    
    <!-- Rangliste -->
    <div id="tabstrip-ranking"
        data-role="view"
        data-title="Rangliste & Preise"
        data-after-show="app.ranking.afterShow"
        data-hide="app.ranking.hide"
        data-show="app.ranking.show"
        data-transition="">
        
        <div data-role="header">
            <div data-role="navbar">
                <a data-role="backbutton" id="backbutton" data-align="left" href="#tabstrip-home"></a>
            	<span data-role="view-title"></span>
            </div>
        </div>
        
        <div class="sub-navigation">
            <a data-role="button" class="selected-button" href="#tabstrip-ranking">Rangliste</a>
        	<a data-role="button" href="#tabstrip-ranking" data-click="app.openPrices">Preise</a>
        </div>
        
        <script type="text/x-kendo-template" id="ranking-top-list-template">
            <div class="list-item">
                <span class="list-image" style="background-image: url('#: app.ranking.getUserImage(id) #'); background-repeat: no-repeat;"></span>
                <div class="list-detail">
                	<div class="user-name">#: id #</div>
                	<div class="user-score">Score: #: score #</div>
            		<div class="user-ranking">#: "\#" + rank #</div>
                </div>
            </div>
        </script>
        
        <script type="text/x-kendo-template" id="ranking-list-template">
            <div class="list-item">
                 <span class="list-image" style="background-image: url('styles/images/Icons/user.svg'); background-repeat: no-repeat;"></span>
        		 <div class="user-data">
                	 <div class="user-name">#: id #</div>
            		 <div class="user-ranking">#: "\#" + rank #</div>
                	 <div class="user-score">Score: #: score #</div>
            	</div>
             </div>
        </script>
    </div>
    
    <!-- Deine Treffergenauigkeit -->
    <div id="tabstrip-score"
        data-role="view"
        data-title="Treffergenauigkeit"
        data-show="app.initView"
        data-hide="app.scoring.hide"
        data-after-show="app.scoring.afterShow"
        data-transition="">
        
        <div data-role="header">
            <div data-role="navbar">
                <a data-role="backbutton" id="backbutton" data-align="left"></a>
            	<span data-role="view-title"></span>
            </div>
        </div>
        
        <div class="content-container">
            <input type="text" class="knob" id="chart">
        </div>
    </div>
    
    <!-- Regeln & Mehr -->
    <div id="tabstrip-rules"
        data-role="view"
        data-title="Regeln & Mehr"
        data-show="app.initView"
        data-transition="">
        
        <div data-role="header">
            <div data-role="navbar">
                <a data-role="backbutton" id="backbutton" href="#tabstrip-home" data-align="left"></a>
            	<span data-role="view-title"></span>
            </div>
        </div>
        
        <div class="sub-navigation">
            <a data-role="button" class="selected-button" href="#tabstrip-rules">Regeln</a>
            <a data-role="button" href="#tabstrip-infos">Infos</a>
        	<a data-role="button" href="#" data-click="app.logout">Logout</a>
        </div>
        
        <div class="content-container">
            <p>Bei diesem Tippspiel handelt es sich nicht um eine kommerzielle bzw. gewinnbringende Veranstaltung. Der Betreiber dieses Spiels stellt lediglich eine Plattform zur Verfügung, um den registrierten Benutzern eine bessere Organisation der Wetten zu ermöglichen. 
                Der Rechtsweg ist ausgeschlossen. Bei Fragen bzw. Hinweisen bitten wir Sie den Spielbetreiber zu kontaktieren.</p>
            <ul>
                	<li>
                        <strong>1. Wetten</strong>
                        <p>Es kann auf jedes Spiel der FIFA Fußball-Weltmeisterschaft 2014 in Brasilien ein Tipp abgegeben werden. Dabei können die Tippabgaben bis unmittelbar vor Spielbeginn erfolgen. Bei allen Spielen sind die Ergebnisse nach 90 Minuten entscheidend - Verlängerungen und Elfmeterschießen werden nicht berücksichtigt.</p>
                    </li>
                	<li>
                        <strong>2. Punktevergabe</strong>
                        <p>Die maximale Punktzahl pro Tippabgabe beträgt zwei Punkte für ein 100% richtiges Ergebnis. Für eine richtige Tendenz erhält man einen Punkt. Weiterhin werden die einzelnen Phasen der Weltmeisterschaft (Vorrunde, Viertelfinale, etc.) mit einem Faktor gewichtet, um der Brisanz der einzelnen Phasen gerecht zu werden.
						Die nachfolgende Tabelle zeigt die jeweiligen Runden mit den korrespondierenden Gewichtungsfaktoren:
                        
                        <table class="table">
                             <thead>
                                 <tr>
                                     <th>Phase</th>
                                     <th>Gewichtungsfaktor</th>
                                 </tr>
                             </thead>
                             <tbody>
                                 <tr>
                                     <td>Vorrunde</td>
                                     <td>x 1</td>
                                 </tr>
                                 <tr>
                                     <td>Achtelfinale</td>
                                     <td>x 1</td>
                                 </tr>
                                 <tr>
                                     <td>Viertelfinale</td>
                                     <td>x 2</td>
                                 </tr>
                                 <tr>
                                     <td>Halbfinale</td>
                                     <td>x 3</td>
                                 </tr>
                                 <tr>
                                     <td>Spiel um Platz 3</td>
                                     <td>x 4</td>
                                 </tr>
                                 <tr>
                                     <td>Finale</td>
                                     <td>x 4</td>
                                 </tr>
                              </tbody>
                          </table>
                         
                        </p>
                    </li>
                	<li>
                        <strong>3. Ermittlung der Gewinner</strong>
                        <p>Nach Beendigung der Weltmeisterschaft werden die Sieger des Tippspiels durch die Punktzahl ermittelt. Bei Gleichstand mehrerer Spieler, entscheidet zuerst die Anzahl der richtigen genauen Ergebnisse pro Spieler und Spiel, dann die Anzahl der richtigen Tendenzen. Sollten nach diesem Vorgehen die Gewinner noch nicht feststehen, kommt es zu einer Auslosung. Die Gewinner werden unmittelbar nach der Veranstaltung vom Betreiber des Spieles persönlich angeschrieben.</p>
                    </li>
                	<li>
                        <strong>4. Inhalt des Onlineangebotes</strong>
                        <p>Der Autor übernimmt keinerlei Gewähr für die Korrektheit, Vollständigkeit oder Qualität der bereitgestellten Informationen. Haftungsansprüche gegen den Bereitsteller, die sich auf Schäden materieller oder ideeller Art beziehen, welche durch die Nutzung oder Nichtnutzung der dargebotenen Informationen bzw. durch die Nutzung fehlerhafter und unvollständiger Informationen verursacht wurden, sind grundsätzlich ausgeschlossen, sofern seitens des Autors kein nachweislich vorsätzliches oder grob fahrlässiges Verschulden vorliegt.</p>
                    </li>
            </ul>
		</div>
    </div>
    
    <!-- Infos -->
    <div id="tabstrip-infos"
        data-role="view"
        data-title="Regeln & Mehr"
        data-show="app.initInfo"
        data-transition="">
        
        <div data-role="header">
            <div data-role="navbar">
                <a data-role="backbutton" id="backbutton" href="#tabstrip-home" data-align="left"></a>
            	<span data-role="view-title"></span>
            </div>
        </div>
        
        <div class="sub-navigation">
            <a data-role="button" href="#tabstrip-rules">Regeln</a>
            <a data-role="button" class="selected-button"  href="#tabstrip-infos">Infos</a>
        	<a data-role="button" href="#" data-click="app.logout">Logout</a>
        </div>
        
        <div class="content-container">
            
		</div>
    </div>

    <!-- Passwort zurücksetzen -->
    <div id="tabstrip-pwreset"
        data-role="view"
        data-title="Passwort zurücksetzen"
        data-transition="">
        
        <div data-role="header">
            <div data-role="navbar">
                <a data-role="backbutton" id="backbutton"  href="#tabstrip-login" data-align="left"></a>
            	<span data-role="view-title"></span>
            </div>
        </div>
        
        <div class="content-container">
            <p>Bitte geben Sie Ihren Nicknamen oder Ihre E-Mail-Adresse an. Sie werden daraufhin eine E-Mail erhalten, mit der Sie Ihr Passwort zurücksetzen können.</p>
            
            <form class="pwreset-form">
                <ul data-role="listview" data-bind="">
                    <li>
                        <label>
                            <input type="text" id="tbUserIdOrEmail" placeholder="Nickname oder E-Mail" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
                        </label>
                    </li>
                </ul>
                
                <input type="submit" data-role="button" data-click="app.requestPwReset" value="Absenden" class="pwrest-button"/>
            </form>
        </div>
    </div>
</body>
</html>
